[
    {
        "id": "ed40b49a.4eee78",
        "type": "tab",
        "label": "Flow 1"
    },
    {
        "id": "e9b58ff4.30882",
        "type": "tab",
        "label": "Flow 2"
    },
    {
        "id": "1183f03b.fae04",
        "type": "mqtt-broker",
        "z": "b2757629.9a08f8",
        "broker": "m20.cloudmqtt.com",
        "port": "15555",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": ""
    },
    {
        "id": "d11b744b.bc4f38",
        "type": "mqtt-broker",
        "z": "ed40b49a.4eee78",
        "broker": "m20.cloudmqtt.com",
        "port": "15555",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": ""
    },
    {
        "id": "fc0216f3.ef0178",
        "type": "firebase config",
        "z": "ed40b49a.4eee78",
        "firebaseurl": "smoky-c9f1b",
        "loginType": "none"
    },
    {
        "id": "aa691bac.527198",
        "type": "mqtt in",
        "z": "ed40b49a.4eee78",
        "name": "Smoky data",
        "topic": "smoky/1/#",
        "qos": "1",
        "broker": "d11b744b.bc4f38",
        "x": 77.5,
        "y": 87,
        "wires": [
            [
                "31caee29.3735e2",
                "d56617a5.79e518",
                "d38fb242.2f96f"
            ]
        ]
    },
    {
        "id": "d56617a5.79e518",
        "type": "thingspeak42",
        "z": "ed40b49a.4eee78",
        "name": "ThingSpeak",
        "delay": "30",
        "topic1": "smoky/1/inside/temperature",
        "topic2": "smoky/1/inside/humidity",
        "topic3": "smoky/1/inside/heaterpercent",
        "topic4": "smoky/1/inside/smoke",
        "topic5": "weather/outTemp_C",
        "topic6": "weather/outHumidity",
        "topic7": "smoky/1/inside/heateroutput",
        "topic8": "smoky/1/dhtreadfailures",
        "endpoint": "https://thingspeak.com",
        "x": 502.5,
        "y": 213,
        "wires": []
    },
    {
        "id": "799bad78.ba3d64",
        "type": "mqtt out",
        "z": "ed40b49a.4eee78",
        "name": "Smoky ack",
        "topic": "smoky/1/in/ack",
        "qos": "1",
        "retain": "",
        "broker": "d11b744b.bc4f38",
        "x": 565.5,
        "y": 300,
        "wires": []
    },
    {
        "id": "84c44ff5.42f45",
        "type": "mqtt in",
        "z": "ed40b49a.4eee78",
        "name": "Smoky temp",
        "topic": "smoky/1/inside/temperature",
        "qos": "1",
        "broker": "1183f03b.fae04",
        "x": 139.5,
        "y": 301,
        "wires": [
            [
                "9a6c5dd8.47c67",
                "18b193c9.4bae4c"
            ]
        ]
    },
    {
        "id": "9a6c5dd8.47c67",
        "type": "change",
        "z": "ed40b49a.4eee78",
        "name": "Clear msg",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 339.5,
        "y": 301,
        "wires": [
            [
                "799bad78.ba3d64"
            ]
        ]
    },
    {
        "id": "31caee29.3735e2",
        "type": "debug",
        "z": "ed40b49a.4eee78",
        "name": "Debug",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 290.5,
        "y": 33,
        "wires": []
    },
    {
        "id": "2808a205.6667ce",
        "type": "http request",
        "z": "ed40b49a.4eee78",
        "name": "Call Node-RED Heroku",
        "method": "GET",
        "ret": "txt",
        "url": "https://node-red-otto.herokuapp.com/",
        "tls": "",
        "x": 606,
        "y": 406,
        "wires": [
            [
                "72489b47.2dc5a4"
            ]
        ]
    },
    {
        "id": "72489b47.2dc5a4",
        "type": "debug",
        "z": "ed40b49a.4eee78",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 639,
        "y": 492,
        "wires": []
    },
    {
        "id": "18b193c9.4bae4c",
        "type": "delay",
        "z": "ed40b49a.4eee78",
        "name": "Keep alive",
        "pauseType": "timed",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "4",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 169.5,
        "y": 407,
        "wires": [
            [
                "75585b3.9cc97a4"
            ]
        ]
    },
    {
        "id": "75585b3.9cc97a4",
        "type": "change",
        "z": "ed40b49a.4eee78",
        "name": "Clear msg",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 405,
        "wires": [
            [
                "2808a205.6667ce"
            ]
        ]
    },
    {
        "id": "436dd270.785fec",
        "type": "mqtt in",
        "z": "ed40b49a.4eee78",
        "name": "Weather station",
        "topic": "weather/+",
        "qos": "1",
        "broker": "d11b744b.bc4f38",
        "x": 85,
        "y": 162,
        "wires": [
            [
                "d56617a5.79e518",
                "f182cd7b.c965c"
            ]
        ]
    },
    {
        "id": "ae2bb4ac.795308",
        "type": "firebase modify",
        "z": "ed40b49a.4eee78",
        "name": "Firebase Save Latest",
        "firebaseconfig": "fc0216f3.ef0178",
        "childpath": "msg.childpath",
        "method": "set",
        "value": "msg.payload",
        "priority": "msg.priority",
        "x": 634.5,
        "y": 145,
        "wires": [
            [
                "285c4cc8.196464"
            ]
        ]
    },
    {
        "id": "285c4cc8.196464",
        "type": "debug",
        "z": "ed40b49a.4eee78",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 675.5,
        "y": 209,
        "wires": []
    },
    {
        "id": "d38fb242.2f96f",
        "type": "change",
        "z": "ed40b49a.4eee78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "childpath",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 304.5,
        "y": 79,
        "wires": [
            [
                "f182cd7b.c965c"
            ]
        ]
    },
    {
        "id": "2199632b.325bfc",
        "type": "debug",
        "z": "ed40b49a.4eee78",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 686.5,
        "y": 29,
        "wires": []
    },
    {
        "id": "f182cd7b.c965c",
        "type": "function",
        "z": "ed40b49a.4eee78",
        "name": "Build childpath",
        "func": "msg.childpath = \"latest/\" + msg.topic\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 520.5,
        "y": 99,
        "wires": [
            [
                "ae2bb4ac.795308",
                "2199632b.325bfc"
            ]
        ]
    }
]